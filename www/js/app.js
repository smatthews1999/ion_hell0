// Generated by CoffeeScript 1.7.1
(function() {
  angular.module("starter", ["ionic", "starter.controllers", "starter.services"]).run(function($ionicPlatform, $state, $rootScope) {
    $rootScope.authed = false;
    $ionicPlatform.ready(function() {
      if (window.StatusBar) {
        StatusBar.styleDefault();
      }
      if ($rootScope.authed) {
        $state.transitionTo("tab.mileage");
      } else {
        $state.transitionTo("tab.login");
      }
      $rootScope.$on("$stateChangeStart", function(event, toState) {
        console.log(toState.name);
        if (toState.auth && (!$rootScope.authed)) {
          $state.transitionTo("tab.login");
          event.preventDefault();
        }
      });
    });
  }).config(function($stateProvider, $urlRouterProvider) {
    $stateProvider.state("tab", {
      url: "/tab",
      abstract: true,
      templateUrl: "templates/tabs.html"
    }).state("tab.login", {
      url: "/login",
      views: {
        "tab-login": {
          templateUrl: "templates/tab-login.html",
          controller: "LoginCtrl"
        }
      }
    }).state("tab.mileage", {
      url: "/mileage",
      auth: true,
      views: {
        "tab-mileage": {
          templateUrl: "templates/tab-mileage.html",
          controller: "MileageCtrl"
        }
      }
    }).state("tab.friends", {
      url: "/friends",
      auth: true,
      views: {
        "tab-friends": {
          templateUrl: "templates/tab-friends.html",
          controller: "FriendsCtrl"
        }
      }
    }).state("tab.friend-detail", {
      url: "/friend/:friendId",
      auth: true,
      views: {
        "tab-friends": {
          templateUrl: "templates/friend-detail.html",
          controller: "FriendDetailCtrl"
        }
      }
    }).state("tab.account", {
      url: "/account",
      auth: true,
      views: {
        "tab-account": {
          templateUrl: "templates/tab-account.html",
          controller: "AccountCtrl"
        }
      }
    });
  });

}).call(this);

//# sourceMappingURL=app.map
